# stock_market_quotes

# Алгоритми розрахунку статистики

У додатку використовуються онлайн-алгоритми для обчислення статистичних показників
у реальному часі. Це дозволяє ефективніше обробляти потік даних.

## Реалізовані алгоритми

### 1. Середнє арифметичне

Використовується інкрементальна формула:

NewMean = OldMean + (NewValue - OldMean) / Count

де:

- `OldMean` — попереднє середнє значення,
- `NewValue` — нове котирування,
- `Count` — кількість отриманих котирувань.

---

### 2. Стандартне відхилення

Реалізовано за допомогою алгоритму Велфорда:

delta = NewValue - Mean
Mean = Mean + delta / Count
delta2 = NewValue - Mean
M2 = M2 + delta * delta2
StandardDeviation = sqrt(M2 / (Count - 1))

де:

- `M2` — сума квадратів відхилень від середнього.

---

### 3. Мода

Використовується частотний словник (`Map`):

- **Ключ**: значення котирування,
- **Значення**: кількість появ.

Мода визначається як значення з максимальною частотою появи.

---

### 4. Медіана

Реалізовано з використанням двох куп (heaps):

- **Мінімальна купа** для більшої половини даних,
- **Максимальна купа** для меншої половини даних.

Медіана обчислюється як:

- Середнє значення верхівок обох куп, якщо їх розміри рівні,
- Верхівка більшої купи в іншому випадку.

---

### 5. Втрачені котирування

Підрахунок базується на аналізі послідовності ID:

if (currentId > previousId + 1) {
lostQuotes += currentId - previousId - 1
}

---

### 6. Час обчислень

Вимірюється за допомогою `Stopwatch`:

- **Запуск** на початку обчислень,
- **Зупинка** після завершення всіх розрахунків.

---
